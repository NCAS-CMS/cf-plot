<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>version 1.3 changes &#8212; cf-plot 3.3.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css?v=97decc96" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
    
    <script src="_static/documentation_options.js?v=3eb8911e"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">cf-plot 3.3.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">version 1.3 changes</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="version-1-3-changes">
<span id="version-1-3"></span><h1>version 1.3 changes<a class="headerlink" href="#version-1-3-changes" title="Link to this heading">¶</a></h1>
<section id="document-code-changes-in-a-more-detailed-manner">
<h2>1. Document code changes in a more detailed manner<a class="headerlink" href="#document-code-changes-in-a-more-detailed-manner" title="Link to this heading">¶</a></h2>
<p>More information is needed on the changes made between versions.  This is useful for both users to see what has changed since the previous version and to track cf-plot development in a more meaningful way.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Changes</span> <span class="n">made</span> <span class="k">for</span> <span class="n">new</span> <span class="n">releases</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">versions</span> <span class="n">page</span> <span class="kn">from</span> <span class="mf">1.3</span> <span class="n">forward</span> <span class="n">have</span> <span class="n">their</span> <span class="n">own</span> <span class="n">web</span> <span class="n">page</span>
<span class="n">referenced</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">versions</span> <span class="n">page</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="remove-redundant-init-py-file-from-source-code">
<h2>2. Remove redundant __init__.py file from source code<a class="headerlink" href="#remove-redundant-init-py-file-from-source-code" title="Link to this heading">¶</a></h2>
<p>Work out which of the source __init__.py are used for version information and delete the other copy.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">swsheaps</span><span class="o">/</span><span class="n">cfplot</span><span class="o">.</span><span class="n">src</span><span class="o">/</span><span class="n">cfplot</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">one</span> <span class="n">to</span> <span class="n">use</span><span class="p">,</span> <span class="n">the</span> <span class="n">other</span> <span class="n">copy</span> <span class="n">has</span> <span class="n">been</span> <span class="n">deleted</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="blockfill-example-now-fails">
<h2>3. Blockfill example now fails<a class="headerlink" href="#blockfill-example-now-fails" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">In</span> <span class="n">cf</span><span class="o">-</span><span class="n">python</span> <span class="n">the</span> <span class="n">isbounded</span> <span class="n">method</span> <span class="n">was</span> <span class="n">renamed</span> <span class="n">to</span> <span class="n">hasbounds</span><span class="o">.</span>  <span class="n">Changed</span> <span class="n">code</span> <span class="n">to</span> <span class="n">use</span> <span class="n">the</span> <span class="n">new</span> <span class="n">method</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="gvals-bug">
<h2>4. gvals bug<a class="headerlink" href="#gvals-bug" title="Link to this heading">¶</a></h2>
<p>cfp.gvals(dmin=32400, dmax=43200, tight=1, mod=0)</p>
<p>gives</p>
<p>(array([32160, 32830, 33500, 34170, 34840, 35510, 36180, 36850, 37520,
38190, 38860, 39530, 40200, 40870, 41540, 42210, 42880]), 0)</p>
<p>The result shouldn't have a value below 32400 and should start at 32400.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Modified</span> <span class="n">gvals</span> <span class="n">routine</span> <span class="n">to</span> <span class="ow">not</span> <span class="n">change</span> <span class="n">the</span> <span class="n">step</span> <span class="k">if</span> <span class="n">mod</span> <span class="ow">is</span> <span class="nb">set</span> <span class="n">to</span> <span class="mf">0.</span>
</pre></div>
</div>
</section>
<section id="example-7-x-axis-is-labelled-as-degrees-north">
<h2>5. Example 7 x-axis is labelled as degrees_north<a class="headerlink" href="#example-7-x-axis-is-labelled-as-degrees-north" title="Link to this heading">¶</a></h2>
<p>The various CF latitude names should be caught and the returned as 'latitude'</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="plot-limits-bug">
<h2>6. Plot limits bug<a class="headerlink" href="#plot-limits-bug" title="Link to this heading">¶</a></h2>
<p>When plots is made with no user call to gset a zonal mean plot followed by a map plot
gives previous plot limits.  A call of gset() is needed before the call to gclose
in con and vect routines.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="colour-scales-prevent-cf-plot-being-used-as-a-stand-alone-program">
<h2>7. Colour scales prevent cf-plot being used as a stand-alone program<a class="headerlink" href="#colour-scales-prevent-cf-plot-being-used-as-a-stand-alone-program" title="Link to this heading">¶</a></h2>
<p>The code uses a call to cscale to set the colour scales and this requires
that the colour scales are installed in the correct place by the installer.
This prevents the cfplot.py program from being used as a stand-alone program.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scale1</span> <span class="ow">and</span> <span class="n">cosam</span> <span class="n">colour</span> <span class="n">scales</span> <span class="n">integrated</span> <span class="n">into</span> <span class="n">the</span> <span class="n">program</span> <span class="n">so</span> <span class="n">that</span> <span class="n">cf</span><span class="o">-</span><span class="n">plot</span>
<span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">stand</span><span class="o">-</span><span class="n">alone</span> <span class="n">mode</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="revamp-colour-scales-page-to-use-consistent-set-of-images">
<h2>8. Revamp colour scales page to use consistent set of images<a class="headerlink" href="#revamp-colour-scales-page-to-use-consistent-set-of-images" title="Link to this heading">¶</a></h2>
<p>The colour scales page had a set of scale images from a variety of sources.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="n">new</span> <span class="n">routine</span> <span class="n">called</span>  <span class="n">process_color_scales</span> <span class="n">was</span> <span class="n">written</span> <span class="n">to</span> <span class="n">produce</span> <span class="n">consistent</span>
<span class="n">images</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">rst</span> <span class="n">code</span> <span class="n">needed</span> <span class="k">for</span> <span class="n">the</span> <span class="n">colour_scales</span><span class="o">.</span><span class="n">rst</span> <span class="n">file</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="move-up-the-vector-plot-in-the-gallery-so-that-it-is-level-with-the-other-plots">
<h2>9. Move up the vector plot in the gallery so that it is level with the other plots<a class="headerlink" href="#move-up-the-vector-plot-in-the-gallery-so-that-it-is-level-with-the-other-plots" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Moved</span>
</pre></div>
</div>
</section>
<section id="add-in-code-to-get-verbose-messages">
<h2>10. Add in code to get verbose messages<a class="headerlink" href="#add-in-code-to-get-verbose-messages" title="Link to this heading">¶</a></h2>
<p>It is useful for debugging to see what cf-plot is doing as it progresses with making a
plot.  Calling the con routine with verbose=1 gives some basic messages about the progress.
Of greater interest might be the output of the call from con to cf_data_assign.
The cf_data_assign function verbose option lets the user know which parts of CF are being used to
assign the axes names, units and data.</p>
<p>The verbose nature of cf-plot may be expanded beyond this if it is found to be useful.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Verbose</span> <span class="n">code</span> <span class="n">added</span> <span class="n">to</span> <span class="n">con</span> <span class="ow">and</span> <span class="n">cf_data_assign</span>
</pre></div>
</div>
</section>
<section id="tidy-up-contour-routine">
<h2>11. Tidy up contour routine<a class="headerlink" href="#tidy-up-contour-routine" title="Link to this heading">¶</a></h2>
<p>Con, the contour routine, needs tidying up, commenting and reordering to make it clearer.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</section>
<section id="batch-mode-processing">
<h2>12. Batch mode processing<a class="headerlink" href="#batch-mode-processing" title="Link to this heading">¶</a></h2>
<p>Check cf-plot works in batch mode and modify if not.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="n">display</span> <span class="n">check</span> <span class="ow">is</span> <span class="n">now</span> <span class="n">made</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">cf</span><span class="o">-</span><span class="n">plot</span> <span class="n">code</span> <span class="ow">and</span> <span class="k">if</span> <span class="n">none</span> <span class="ow">is</span> <span class="n">present</span> <span class="n">then</span> <span class="n">the</span> <span class="n">Agg</span> <span class="n">backing</span>
<span class="n">store</span> <span class="ow">is</span> <span class="n">used</span><span class="o">.</span>

<span class="n">The</span> <span class="n">following</span> <span class="n">configuration</span> <span class="n">works</span> <span class="n">on</span> <span class="n">the</span> <span class="n">Reading</span> <span class="n">Met</span> <span class="n">department</span> <span class="n">Linux</span> <span class="n">system</span><span class="o">.</span>  <span class="n">Need</span> <span class="n">to</span> <span class="n">check</span> <span class="n">why</span>
<span class="n">submitting</span> <span class="n">just</span> <span class="n">the</span> <span class="n">Python</span> <span class="n">script</span> <span class="n">doesn</span><span class="s1">&#39;t work.</span>


<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">swsheaps</span><span class="o">/</span><span class="n">ajh</span><span class="o">.</span><span class="n">sh</span><span class="p">:</span>
<span class="c1">#!/bin/sh</span>
<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">opt</span><span class="o">-</span><span class="n">user</span><span class="o">/</span><span class="n">Enthought</span><span class="o">/</span><span class="n">Canopy_64bit</span><span class="o">/</span><span class="n">User</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">swsheaps</span><span class="o">/</span><span class="n">ajh</span><span class="o">.</span><span class="n">py</span>

<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">swsheaps</span><span class="o">/</span><span class="n">ajh</span><span class="o">.</span><span class="n">py</span><span class="p">:</span>
<span class="kn">import</span> <span class="nn">cf</span><span class="o">,</span> <span class="nn">cfplot</span> <span class="k">as</span> <span class="nn">cfp</span>
<span class="n">f</span><span class="o">=</span><span class="n">cf</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;cfplot_data/tas_A1.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">plotvars</span><span class="o">.</span><span class="n">file</span><span class="o">=</span><span class="s1">&#39;/home/swsheaps/ll.png&#39;</span>
<span class="n">cfp</span><span class="o">.</span><span class="n">con</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">subspace</span><span class="p">(</span><span class="n">time</span><span class="o">=</span><span class="mi">15</span><span class="p">))</span>

<span class="n">run</span> <span class="n">the</span> <span class="n">batch</span> <span class="n">job</span> <span class="n">at</span> <span class="mi">16</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span>
<span class="n">at</span> <span class="o">-</span><span class="n">f</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">swsheaps</span><span class="o">/</span><span class="n">ajh</span><span class="o">.</span><span class="n">sh</span> <span class="mi">16</span><span class="p">:</span><span class="mi">33</span>
</pre></div>
</div>
</section>
<section id="process-color-scales-page-doesn-t-appear-as-an-autofunction">
<h2>13. process_color_scales page doesn't appear as an autofunction<a class="headerlink" href="#process-color-scales-page-doesn-t-appear-as-an-autofunction" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span> <span class="o">-</span> <span class="n">need</span> <span class="n">to</span> <span class="n">have</span> <span class="n">the</span> <span class="n">cf</span><span class="o">-</span><span class="n">plot</span> <span class="n">reference</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">line</span>
<span class="o">..</span> <span class="n">autofunction</span><span class="p">::</span> <span class="n">cf</span><span class="o">-</span><span class="n">plot</span><span class="o">.</span><span class="n">process_color_scales</span>
</pre></div>
</div>
</section>
<section id="tidy-up-and-comment-cf-data-assign-data-input-code">
<h2>14. Tidy up and comment cf_data_assign data input code<a class="headerlink" href="#tidy-up-and-comment-cf-data-assign-data-input-code" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Done</span>
</pre></div>
</div>
</section>
<section id="data-input-documentation-section-needs-revising">
<h2>15. Data input documentation section needs revising<a class="headerlink" href="#data-input-documentation-section-needs-revising" title="Link to this heading">¶</a></h2>
<p>The cf_data_assign code rewrite has made the data input documentation out of date.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span> <span class="nb">input</span> <span class="n">documentation</span> <span class="n">rewritten</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="vect-routine-keyword-documentation-incomplete">
<h2>16. Vect routine keyword documentation incomplete<a class="headerlink" href="#vect-routine-keyword-documentation-incomplete" title="Link to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</section>
<section id="rearrange-order-of-gallery-plots">
<h2>17. Rearrange order of gallery plots<a class="headerlink" href="#rearrange-order-of-gallery-plots" title="Link to this heading">¶</a></h2>
<p>Rearrange the order of the gallery plots to make the major plot types more prominent.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<h3><a href="index.html">Homepage</a><p></h3>
<h5><a href="gallery.html">Gallery</a><p></h5>
<h5><a href="user_guide.html">User Guide</a><p></h5>
<h5><a href="training.html">Training material</a><p></h5>
<h5><a href="routines.html">Routines</a><p></h5>
<h5><a href="internal_routines.html">Routines - internal</a><p></h5>
<h5><a href="advanced.html">Advanced Use</a><p></h5>
<h5><a href="versions.html">Versions</a><p></h5>
<h5><a href="issues.html">Issues</a><p></h5>
<h5><a href="download.html">Download/Install</a><p></h5>
<h5><a href="license.html">License</a><p></h5>
<h5><a href="older_documentation.html">Older documentation</a><p></h5>
<h5><a href="search.html">Search</a><p></h5>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">cf-plot 3.3.0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">version 1.3 changes</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, Sadie Bartholomew.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>