
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>version 1.5 changes &#8212; cf-plot 3.3.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=fd3f3429" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=3eb8911e"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'version_1.5';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>
<aside class="bd-header-announcement" aria-label="Announcement">
  <div class="bd-header-announcement__content">This is the new permanent home of the cf-plot documentation: please consult this and not the old frozen version under 'http://ajheaps.github.io'.</div>
</aside>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
  
    <p class="title logo__title">cf-plot 3.3.0 documentation</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

<h3><a href="index.html">Homepage</a><p></h3>
<h5><a href="gallery.html">Gallery</a><p></h5>
<h5><a href="user_guide.html">User Guide</a><p></h5>
<h5><a href="training.html">Training material</a><p></h5>
<h5><a href="routines.html">Routines</a><p></h5>
<h5><a href="internal_routines.html">Routines - internal</a><p></h5>
<h5><a href="advanced.html">Advanced Use</a><p></h5>
<h5><a href="versions.html">Versions</a><p></h5>
<h5><a href="issues.html">Issues</a><p></h5>
<h5><a href="download.html">Download/Install</a><p></h5>
<h5><a href="license.html">License</a><p></h5>
<h5><a href="older_documentation.html">Older documentation</a><p></h5>
<h5><a href="search.html">Search</a><p></h5></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">version 1.5 changes</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="version-1-5-changes">
<span id="version-1-5"></span><h1>version 1.5 changes<a class="headerlink" href="#version-1-5-changes" title="Link to this heading">#</a></h1>
<p>This is a rolling bug/feature fix version.</p>
<section id="fix-colour-bar-mislabelling">
<h2>1. Fix colour bar mislabelling<a class="headerlink" href="#fix-colour-bar-mislabelling" title="Link to this heading">#</a></h2>
<p>The colorbar can sometimes be mislabelled when using unusual manual labels.</p>
<p>cfp.levs(manual=[-1, 1, 10000, 20000, 30000, 40000, 50000, 60000])
will give the correct contour lines and labels but incorrect colorbar labels.  The color bar labels will
be 0, 2, 10001, 20001, 30001, 40001, 50001, 60001 and a +1 will appear next to the color bar label.</p>
<p>It looks like this is an intentional behaviour of the code for colorbar and is correct but not what is required. The cf-plot code was changed to substitute the correct colorbar labels for the ones that colorbar thinks it should use.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="incorrect-plot-limits-for-multiple-plots">
<h2>2. Incorrect plot limits for multiple plots<a class="headerlink" href="#incorrect-plot-limits-for-multiple-plots" title="Link to this heading">#</a></h2>
<p>A longitude-latitude plot followed by a latitude-pressure plot on the same page gives incorrect plot limits for the second plot.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="bug-in-longitude-wrapping">
<h2>3. Bug in longitude wrapping<a class="headerlink" href="#bug-in-longitude-wrapping" title="Link to this heading">#</a></h2>
<p>Non global data in longitude-latitude causes a crash in the longitude wrapping section</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="non-global-longitude-latitude-data-is-plotted-on-a-global-grid">
<h2>4. Non-global longitude/latitude data is plotted on a global grid<a class="headerlink" href="#non-global-longitude-latitude-data-is-plotted-on-a-global-grid" title="Link to this heading">#</a></h2>
<p>The default cylindirical projection limits of -180 to 180 in longitude and -90 to 90 in latitude are used for all map plots.  This needs changing to be the limits of the data in these cases.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="automatic-colour-scales-bug">
<h2>5. Automatic colour scales bug<a class="headerlink" href="#automatic-colour-scales-bug" title="Link to this heading">#</a></h2>
<p>Automatic colour scales are broken.  Remove call to cscale() in gpos.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="colorbar-labels-overwrite-each-other">
<h2>6. Colorbar labels overwrite each other<a class="headerlink" href="#colorbar-labels-overwrite-each-other" title="Link to this heading">#</a></h2>
<p>Colour bar labels overwite each other when large number of contour levels are used or when more plot columns are used.   Include code to take account of these based on the total number of characters in the contour labels and the number of
columns.  If the user hasn't supplied a value for colorbar_label_skip to the con routine then the calculated value is
used.  The labels used will start at the lowest for a continuous data set and from zero for a diverging one.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="latitude-vs-log-pressure-plot-axes-cause-an-abort">
<h2>7. Latitude vs log pressure plot axes cause an abort<a class="headerlink" href="#latitude-vs-log-pressure-plot-axes-cause-an-abort" title="Link to this heading">#</a></h2>
<p>Latitude vs log pressure plot axes cause an abort due to zero being used for the top of the atmosphere.  Line of code inadvertently deleted but this is now back in place.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="a-cf-field-list-with-one-field-is-rejected-by-cf-plot-before-plotting">
<h2>8. A CF field list with one field is rejected by cf-plot before plotting<a class="headerlink" href="#a-cf-field-list-with-one-field-is-rejected-by-cf-plot-before-plotting" title="Link to this heading">#</a></h2>
<p>Code changed to check and pass the field for plotting.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="added-longitude-height-plots">
<h2>9. Added longitude height plots<a class="headerlink" href="#added-longitude-height-plots" title="Link to this heading">#</a></h2>
<p>Longitude-height plots were missing from cf_data_assign and from the contouring routine.
These have now been added.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="documentation-change">
<h2>10. Documentation change<a class="headerlink" href="#documentation-change" title="Link to this heading">#</a></h2>
<p>The web and user guide documentation has chaged so that the examples reference data in cfplot_data.  This is so the gallery examples work as written and to prevent multiple copies of the example data being on local disks.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="reset-command">
<h2>11. Reset command<a class="headerlink" href="#reset-command" title="Link to this heading">#</a></h2>
<p>A reset command was added to the code to reset all the graphics options in one step.  Use cfp.reset().</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Added</span> <span class="n">to</span> <span class="n">code</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="internal-work-on-axes-command">
<h2>12: Internal work on axes command<a class="headerlink" href="#internal-work-on-axes-command" title="Link to this heading">#</a></h2>
<p>A lot of internal work was done on the axes command to make it write the passed data into the plotvars array.
The data from here then superceeds any automatically generated axis labels.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Added</span> <span class="n">to</span> <span class="n">code</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="setvars-command-added">
<h2>13. Setvars command added<a class="headerlink" href="#setvars-command-added" title="Link to this heading">#</a></h2>
<p>A new command called setvars was added to the code.  This is used to set various common plotting options.
Options are:</p>
<blockquote>
<div><blockquote>
<div><div class="line-block">
<div class="line">file=None - output file name</div>
<div class="line">text_fontsize=None - text fontsize, default=11</div>
<div class="line">title_fontsize=None - title fontsize, default=15</div>
<div class="line">axis_label_fontsize=None - default=11</div>
<div class="line">text_fontweight='normal' - text fontweight</div>
<div class="line">title_fontweight='normal' - title fontweight</div>
<div class="line">axis_label_fontweight='normal' - axis fontweight</div>
<div class="line">fontweight='normal' - all above fontweights</div>
<div class="line">continent_thickness=None - default=1.5</div>
<div class="line">continent_color=None - default='k' (black)</div>
</div>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Added</span> <span class="n">to</span> <span class="n">code</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="reduced-longitude-grid-not-plotted-correctly">
<h2>14. Reduced longitude grid not plotted correctly<a class="headerlink" href="#reduced-longitude-grid-not-plotted-correctly" title="Link to this heading">#</a></h2>
<p>A reduced longitude grid isn't plotted correctly due to a bug in
the calculation of the lonrange variable.</p>
<blockquote>
<div><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fixed</span>
</pre></div>
</div>
</div></blockquote>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fix-colour-bar-mislabelling">1. Fix colour bar mislabelling</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#incorrect-plot-limits-for-multiple-plots">2. Incorrect plot limits for multiple plots</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bug-in-longitude-wrapping">3. Bug in longitude wrapping</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#non-global-longitude-latitude-data-is-plotted-on-a-global-grid">4. Non-global longitude/latitude data is plotted on a global grid</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#automatic-colour-scales-bug">5. Automatic colour scales bug</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#colorbar-labels-overwrite-each-other">6. Colorbar labels overwrite each other</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#latitude-vs-log-pressure-plot-axes-cause-an-abort">7. Latitude vs log pressure plot axes cause an abort</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#a-cf-field-list-with-one-field-is-rejected-by-cf-plot-before-plotting">8. A CF field list with one field is rejected by cf-plot before plotting</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#added-longitude-height-plots">9. Added longitude height plots</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#documentation-change">10. Documentation change</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reset-command">11. Reset command</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#internal-work-on-axes-command">12: Internal work on axes command</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#setvars-command-added">13. Setvars command added</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#reduced-longitude-grid-not-plotted-correctly">14. Reduced longitude grid not plotted correctly</a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="_sources/version_1.5.rst.txt">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2024, Sadie Bartholomew.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.0.2.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.4.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>